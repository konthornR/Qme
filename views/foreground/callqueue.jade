extend ../layout.jade
block append content
    .container
      .row
        .col-md-6.col-md-offset-3(style='text-align: center; margin-top: 20px;')
          img#logo-image.logo-header(src='../images/logo.jpg', alt='Logo')
      .row(style='margin-top: 40px; margin-bottom: 40px; text-align: center;')
        h3(style='margin-bottom: 30px;') เรียกลูกค้ารายต่อไปสำหรับ
        label.radio-inline
          a.btn.btn-md.btn-option.notransition(href='', ng-click='getNextQueue(0)') 1 - 3 ที่นั่ง
        label.radio-inline
          a.btn.btn-md.btn-option.notransition(href='', ng-click='getNextQueue(1)') 4 - 6 ที่นั่ง
        label.radio-inline
          a.btn.btn-md.btn-option.notransition(href='', ng-click='getNextQueue(2)') 7 - 9 ที่นั่ง
        label.radio-inline
          a.btn.btn-md.btn-option.notransition(href='', ng-click='getNextQueue(3)') 10 ที่นั่งขึ้นไป
        a.btn.btn-md.btn-theme(style='margin-left: 30px;', href='', ng-click='callThisQueue()') เรียก
      .row.ng-scope
        table.table(style='width: 60%; margin: auto;')
          tbody
            tr
              th(style='width: 15%; text-align: center;') ลำดับคิว
              th ชื่อ
              th(style='width: 10%;') จำนวนที่นั่ง
              th(style='width: 10%; text-align: center;') มา
              th(style='width: 10%; text-align: center;') ไม่มา
            tr.ng-scope(ng-repeat='customer in listCustomersCalling')
              td.ng-binding(style='text-align: center') {{ customer.QueuePosition }}
              td.ng-binding {{ customer.Name }}
              td.ng-binding(style='text-align: center') {{ customer.NumberOfSeats }}
              td(style='text-align: center;')
                i#callqueue-attend.fa.fa-check.clickable-icon.customer-attend(ng-click='attend(customer)')
              td(style='text-align: center;')
                i#callqueue-not-attend.fa.fa-close.clickable-icon.customer-not-attend(ng-click='notAttend(customer)')
      .row(style='margin-top: 65px; margin-bottom: 40px; text-align: center;')
        .col-md-6.col-md-offset-3
          .col-md-6
            input#callqueue-text-name.form-control(type='text', placeholder='ชื่อ', ng-model='searchCustomer.Name')
          .col-md-3
            input#callqueue-text-numseat.form-control(type='text', placeholder='จำนวนที่นั่ง', ng-model='searchCustomer.NumberOfSeats')
          .col-md-3
            a#callqueue-qr-submit.control-label.btn.btn-md.btn-theme(style='margin-left: 10px;', href='#', data-toggle='modal', data-target='#callqueue-searchResultModal', ng-click='searchCustomerByNameAndNumSeats()') ค้นหา QR Code
    #callqueue-searchResultModal.modal.fade
      .modal-dialog
        .modal-content
          .modal-header
            button.close(type='button', data-dismiss='modal', aria-label='Close')
              span(aria-hidden='true') ×
          .modal-body(style='text-align: center;')
            h3.modal-title(style='margin-bottom: 20px;') ผลการค้นหา
            .row.ng-scope
              table.table(style='width: 80%; margin: auto;')
                tbody
                  tr
                    th(style='width: 15%; text-align: center;') ลำดับคิว
                    th ชื่อ
                    th(style='width: 10%;') จำนวนที่นั่ง
                    th(style='width: 10%; text-align: center;')
                  tr.ng-scope(ng-repeat='customer in searchResultCustomers')
                    td.ng-binding(style='text-align: center') {{ customer.QueuePosition }}
                    td.ng-binding(style='text-align: start;') {{ customer.Name }}
                    td.ng-binding(style='text-align: center') {{ customer.NumberOfSeats }}
                    td(style='text-align: center;')
                      button#callqueue-button-showSearchModal.control-label.btn.btn-xs.btn-theme(style='margin-left: 10px;', ng-click='selectCustomer(customer)')
                        | แสดง QR Code
    #callqueue-qrModal.modal.fade
      .modal-dialog
        .modal-content
          .modal-header
            button.close(type='button', data-dismiss='modal', aria-label='Close')
              span(aria-hidden='true') ×
          .modal-body(style='text-align: center;')
            h3.modal-title(style='margin-bottom: 20px;') รหัส QR Code ของ {{ searchCustomer.Name }}
            qr(type-number='8', correction-level="'M'", size='250', text='qrCodeString', image='true')
